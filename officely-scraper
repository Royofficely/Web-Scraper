#!/bin/bash

# Get the project directory (assuming officely-scraper is run from the project directory)
PROJECT_DIR="$(pwd)"

# Set the path to scan.py
SCAN_PY="$PROJECT_DIR/officely_web_scraper/scan.py"

# Function to check if the Python script exists
check_script() {
    if [[ ! -f "$SCAN_PY" ]]; then
        echo "Error: Python script 'scan.py' not found in $PROJECT_DIR/officely_web_scraper."
        exit 2
    fi
}

# Function to run the Python script with the given command
run_scan() {
    local command="$1"
    check_script
    echo "Executing: python3 $SCAN_PY $command"
    python3 "$SCAN_PY" "$command"
}

# Main logic
if [[ "$1 $2 $3" == "web scraper run" ]]; then
    run_scan "run"
else
    echo "Usage: officely-scraper web scraper run"
    exit 1
fi
